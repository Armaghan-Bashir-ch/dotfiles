set -g default-shell /usr/bin/zsh
set -g default-command "$shell"
unbind r
bind r source-file ~/.tmux.conf
set -g prefix c-z
unbind c-b
set -g mouse on
bind -n m-1 select-window -t 1
bind -n m-2 select-window -t 2
bind -n m-3 select-window -t 3
bind -n m-4 select-window -t 4
bind -n m-5 select-window -t 5
bind -n m-6 select-window -t 6
bind -n m-7 select-window -t 7
bind -n m-8 select-window -t 8
bind -n m-9 select-window -t 9
bind -n m-0 select-window -t 10
set -g status-position bottom

bind-key left split-window -hb -c "#{pane_current_path}"
bind-key down split-window -v -c "#{pane_current_path}"
bind-key up split-window -vb -c "#{pane_current_path}"
bind-key right split-window -h -p 30 -c "#{pane_current_path}"
unbind-key -n c-w
bind-key -n c-w kill-window
bind-key -n c-t new-window
bind-key -n m-left select-pane -l
bind-key -n m-down select-pane -d
bind-key -n m-up select-pane -u
bind-key -n m-right select-pane -r

bind c-l display-popup \
  -d "#{pane_current_path}" \
  -w 90% \
  -h 90% \
  -e "lazygit"


bind p display-popup \
  -d "#{pane_current_path}" \
  -w 80% \
  -h 80%


bind-key > next-window
bind-key < previous-window

set -g base-index 1
set -g renumber-windows on
set -g escape-time 0

bind-key -n c-s-right swap-window -t -1
bind-key -n c-s-right swap-window -t +1

setw -g pane-base-index 1

# sync panes - write the same thing everywhere
bind-key n set-window-option synchronize-panes\; display-message "sync mode toggled"

set-option -a terminal-features 'xterm-256color:rgb'
setw -g mode-keys vi
bind p paste-buffer

# plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin "janoamaral/tokyo-night-tmux"
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'
set -g @plugin 'sainnhe/tmux-fzf'
set -g @plugin '27medkamal/tmux-session-wizard'
set -g @plugin 'tmux-plugins/tmux-yank'
set -g @plugin 'tmux-plugins/tmux-copycat'
set -g @plugin 'christoomey/vim-tmux-navigator'
set-option -g @plugin 'b0o/tmux-autoreload'

# theme settings (ui)
set -g @tokyo-night-tmux_theme night              # storm | day | default to 'night'
set -g @tokyo-night-tmux_transparent 1            # 1 or 0
set -g @tokyo-night-tmux_window_id_style fsquare
set -g @tokyo-night-tmux_pane_id_style hsquare
set -g @tokyo-night-tmux_zoom_id_style dsquare
set -g @tokyo-night-tmux_show_path 0
set -g @tokyo-night-tmux_show_datetime 0


# session wizard + continuum
set -g @session-wizard-height 60
set -g @session-wizard 's t'
set -g @continuum-restore 'on'

# enable tpm
run '~/.tmux/plugins/tpm/tpm'
set-option -g allow-rename off
set-option -g automatic-rename off
set -g status on

bind-key -n c-l if-shell "$is_vim" "send-keys c-l"  "send-keys c-l"

# disable visual bell/notifications
set -g visual-activity off
set -g visual-bell off
set -g visual-silence off
setw -g monitor-activity off
set -g bell-action none

unbind -n c-h
bind -n c-h send-keys c-h
unbind -n tab
unbind tab

set -g pane-border-status off
set -g pane-border-format ''
set -g pane-border-lines single
